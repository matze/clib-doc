<!DOCTYPE html>
<html>
  <head>
    <title>{{ pkg.name }} API documentation</title>
    <link rel="stylesheet" type="text/css" href="clibdoc.css">
  </head>
  <body>
    <h1>{{ pkg.name }}</h1>
    <p>{{ pkg.description }}</p>
    <dl id="description">
      <dt>Version</dt>
      <dd>{{ pkg.version }}</dd>

      <dt>Source</dt>
      <dd><a href="https://github.com/{{ pkg.repo }}">{{ pkg.repo }}</a></dd>

      <dt>License</dt>
      <dd>{{ pkg.license }}</dd>
    </dl>

    <h2>Synopsis</h2>
    <div class="synopsis">
      {% for func in functions %}
      <a href="#{{ func.refid }}">{{ func.name }}</a><br/>
      {% endfor %}
    </div>

    <h2>Details</h2>
    {% for struct in structs %}
    <dl class="function">
      <dt id="{{ struct.refid }}">{{ struct.name }}</dt>
      <dd>
      {% for paragraph in struct.detailed %}
      <p>{{ paragraph}}</p>
      {% endfor %}
      </dd>
      <hr />
    </dl>
    {% endfor %}

    {% for func in functions %}
    <dl class="function">
      <dt id="{{ func.refid }}">{{ func.name }} ()</dt>
      <dd>
        <pre>
{% if func.type.refid %}<a href="#{{ func.type.refid }}">{{ func.type.name }}</a>{% else %}{{ func.type.name }}{% endif %}
{{ func.name|lpad(20) }}({{func.params|param_list|join(', ')}});</pre>

      {% for paragraph in func.detailed %}
      <p>{{ paragraph }}</p>
      {% endfor %}
      </dd>
      <hr />
    </dl>
    {% endfor %}
  </body>
</html>
